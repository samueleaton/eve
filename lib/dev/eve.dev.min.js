var Eve=function(){function e(e,r){var t={fn:r};t.caller=(new Error).stack.split("\n");for(var n=t.caller.length;n--;)"ERROR"===t.caller[n].toUpperCase()?t.caller.splice(n,1):-1!==t.caller[n].indexOf("addEventObserver")&&t.caller.splice(n,1);for(var i=v.isArray(e)?e:[e],n=0,l=i.length;l>n;n++)a[i[n]]=a[i[n]]||[],a[i[n]].push(t)}function r(e,r){if(a[e])for(var t=0;t<a[e].length;t++)if(a[e][t].fn===r||a[e][t].fn.toString()===r.toString()){a[e].splice(t,1);break}}function t(e){delete a[e],delete o[e]}function n(){for(var e=[],r=0,t=arguments.length;t>r;r++)e[r]=arguments[r];for(var n=e.shift(),i=v.isArray(n)?n:[n],r=0,t=i.length;t>r;r++){if(!o[i[r]]&&!u[i[r]]&&a[i[r]])for(var l=0,f=a[i[r]].length;f>l;l++)a[i[r]][l].fn.apply(null,e);if(!o[i[r]]&&!u[i[r]]&&s[i[r]]&&s[i[r]].length){for(;s[i[r]].length;){var g=s[i[r]].shift();u[g]&&(delete u[g],Eve.emit(g))}delete s[i[r]]}if(!o[i[r]]&&!u[i[r]]&&c[i[r]]&&c[i[r]].length){for(;c[i[r]].length;){var g=c[i[r]].shift();o[g]&&(delete o[g],Eve.emit(g))}delete c[i[r]]}}}function i(e){o[e]=!0;var r=e;return{getEvt:function(){return r},until:function(e){c[e]=c[e]?c[e]:[],c[e].push(this.getEvt())}}}function l(e){u[e]=!0;var r=e;return{getEvt:function(){return r},until:function(e){s[e]=s[e]?s[e]:[],s[e].push(this.getEvt())}}}function f(e){delete o[e],delete u[e]}var a={},o={},u={},c={},s={},v={isArray:function(e){return Array.isArray&&Array.isArray(e)?!0:e.constructor===Array?!0:e instanceof Array?!0:!1}};return{on:e,remove:r,removeAll:t,emit:n,ignore:i,observe:f,defer:l,probeListeners:function(e){var r=[];return a[e]&&a[e].forEach(function(e){r.push(e.caller)}),r},getEventList:function(){return a}}}();